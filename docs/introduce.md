---
id: introduce
title: 使用zkRandom获取链上随机数
sidebar_label: 原理简介
---


中心化随机数生成机制是伪随机的、非透明的，而去中心化随机数生成机制又存在可被预测的问题。基于以上原因，我们提出了零知识证明随机数引擎zkRandom，zkRandom是基于VRF（Verifiable Random Function）的理论基础，设计了一种透明的、不可篡改的随机数生成标准，并提供生态工具，如浏览器、SDK等，使Dapp项目方使用链上随机数的成本更低、更可信。zkRandom工作原理是：

1. Dapp用户对自己的业务数据进行签名，然后将业务数据和签名凭证发放给Dapp合约进行预登记；
2. Dapp合约登记业务数据时，将业务数据的hash和发起人等信息发送至zkRandom申请Nonce值；
3. 随机数生成方通过监听zkRandom的合约事件，根据事件内容通过业务数据hash及nonce值进行签名，将签名凭证及部分数据发放给验证合约；
4. 验证合约验证原始数据、业务Hash、随机数凭证的有效性，验证通过后生成随机数返回或发送给Dapp合约。

# 保证结果随机性
最终的随机数取决于服务商签名凭证，而服务商的签名凭证是由业务数据、zkRandom的nonce值和服务商的私钥共同决定的。无论业务数据发生多细微的变化，在使用摘要哈希算法对其签名计算出来的签名凭证一定会发生变化，且业务数据的产生需要按照随机数引擎规定的方式来，每次产生的业务数据都不同，这也就保证了每次签名出的V 值都会是不同的。因此，即使对于同一用户而言，其每次利用zkRandom得到的随机数结果都会有很大差别，签名值生成的机制保证了结果的随机性。

# 保证不可破解

客户方、服务方、随机数引擎都需要根据规定的规则构建业务数据，倘若任意一方不遵守规则都将导致验证不通过，这将直接对其信用造成影响。只要服务商的私钥不泄漏，数据就不会被破解。

# 约束服务方
业务数据及zkRandom产生的nonce共同生成的hash，该hash为用户和Dapp达成共识的数据，服务方根据hash进行签名，虽然可以提前预知随机数种子，但却改变不了结果，服务方能做的只有拒绝提交数据。一旦服务方恶意拒绝用户的随机数生成请求，将会面临用户的质疑。此外服务方受随机数引擎的规则约束，一经作弊，用户通过浏览器的记录对随机数的产生进行审计，通过一定的约束可以督促服务方遵守规则。

可以通过阅读我们的[白皮书]()获取更多信息。